(this["webpackJsonpreact-airports"]=this["webpackJsonpreact-airports"]||[]).push([[4],{328:function(e,t,a){e.exports={root:"Map_root__3jXwk"}},329:function(e,t,a){e.exports={root:"SearchInput_root__38ep4",searchInput:"SearchInput_searchInput__ur07s",noResults:"SearchInput_noResults__2pdDU",resultsWrapper:"SearchInput_resultsWrapper__rkp0R",resultLabel:"SearchInput_resultLabel__1G6u-"}},341:function(e,t,a){e.exports={root:"SearchAirport_root__2CjAk",searchContainer:"SearchAirport_searchContainer__2jzFw",map:"SearchAirport_map__WeABs"}},342:function(e,t,a){e.exports={root:"Main_root__zd-uY"}},352:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(91),o=a(90),s=a(33),i=a(343),u=a(314),l=a(356),m=a(357),p=a(351),f=a(358),h=a(354),b=a(327),_=5,d=3,j=18,O=a(328),g=a.n(O),v=function(e){var t=e.markers,a=e.center,r=e.className;return n.a.createElement(l.a,{center:a,zoom:_,minZoom:d,maxZoom:j,className:Object(b.a)(g.a.root,r)},n.a.createElement(m.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),!Object(h.a)(t)&&t.map((function(e){var t=e.lat,a=e.lng,r=e.info,c=e.id;return n.a.createElement(p.a,{position:{lat:t,lng:a},key:c},n.a.createElement(f.a,null,r))})))},E=function(e){return e.main},N=function(e){return e.search},k=a(355),S=a(324),y=a(353);var C=a(101),I=a(329),R=a.n(I),w=Object(r.memo)((function(e){var t=e.list,a=e.onResultClick,o=e.searchCondition,s=Object(c.b)(),i=Object(c.c)(N).searchResults,l=Object(r.useState)(""),m=Object(u.a)(l,2),p=m[0],f=m[1],b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,a=Object(r.useState)(e),n=Object(u.a)(a,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){var a=setTimeout((function(){o(e)}),t);return function(){clearTimeout(a)}}),[e,t]),c}(p,800),_=p&&p.length>=3&&b,d=function(e){a(e,t)};return Object(r.useEffect)((function(){var e,a,r=[];_&&(r=t.filter((function(e){return o.map((function(t){return e[t]&&e[t].toLowerCase()})).join(",").includes(p.toLowerCase())}))),s((e=r,{type:C.a,payload:e,callback:a}))}),[p,t,_,s]),n.a.createElement("div",{className:R.a.root},n.a.createElement(k.a,{icon:"search",placeholder:"Search airport",className:R.a.searchInput,transparent:!0,loading:!b&&!!p,onChange:function(e){var t=e.target.value;f(t||"")}}),!Object(h.a)(i)&&n.a.createElement("div",{className:R.a.resultsWrapper},n.a.createElement(S.a,{className:R.a.resultLabel,attached:"top right",size:"tiny"},i.length," ",i.length>1?"results":"result"),i.map((function(e,t){var a=e.iata,r=e.name,c=e.country,o=e.city,s=e.icao,i=e.id;return n.a.createElement(y.a,{key:t,header:a,meta:s,description:"".concat(r," / ").concat(o,", ").concat(c),"data-id":i,onClick:d})}))),Object(h.a)(i)&&_&&n.a.createElement("span",{className:R.a.noResults},"No results"))}),o.a),x=a(341),A=a.n(x),L=Object(r.memo)((function(){var e=Object(r.useState)({lat:51.505,lng:-.09}),t=Object(u.a)(e,2),a=t[0],o=t[1],s=Object(c.c)(E).airportsList,l=Object(c.c)(N).searchResults,m=Object(r.useMemo)((function(){var e=[];return l.forEach((function(t){var a=t.lat,r=t.lng,n=t.name,c=t.id;Number.isNaN(+a)||Number.isNaN(+r)||(e=[].concat(Object(i.a)(e),[{lat:+a,lng:+r,info:n,id:c}]))})),e}),[l]);return n.a.createElement("div",{className:A.a.root},n.a.createElement(v,{markers:m,center:a,className:A.a.map}),n.a.createElement("div",{className:A.a.searchContainer},n.a.createElement(w,{searchCondition:["iata","name","country","city"],onResultClick:function(e,t){var a=e.currentTarget&&e.currentTarget.getAttribute("data-id"),r=t.find((function(e){return e.id===a}));r&&r.lat&&r.lng&&o({lat:+r.lat,lng:+r.lng})},list:s})))}),o.a),z=a(342),M=a.n(z);t.default=Object(r.memo)((function(){var e=Object(c.b)();return Object(r.useEffect)((function(){var t;e({type:s.a,callback:t})}),[e]),n.a.createElement("div",{className:M.a.root},n.a.createElement(L,null))}),o.a)}}]);
//# sourceMappingURL=4.4651abf5.chunk.js.map